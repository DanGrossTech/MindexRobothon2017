#pragma config(StandardModel, "RVW Buggybot")
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

#include "Movement.h"
//*!!Code automatically generated by 'ROBOTC' configuration wizard               !!*//

/*+++++++++++++++++++++++++++++++++++++++++++++| Notes |++++++++++++++++++++++++++++++++++++++++++++++
Swing Turns

This program instructs your robot to make a swing turn right for 0.75 seconds, wait for 1 second and then
make a swing turn left for 0.75 seconds.  There is a two second pause at the beginning of the program.

Robot Model(s): NXT REMBOT

[I/O Port]          [Name]              [Type]                [Description]
Motor Port B        rightMotor          NXT Motor             Right side motor
Motor Port C        leftMotor           NXT Motor             Left side motor


----------------------------------------------------------------------------------------------------*/
/*
void turn_right(int msec) {
	motor[rightMotor] = 0;		    // Motor on motorB is stopped at 0 power
	motor[leftMotor]  = 100;			// Motor on motorC is run at full (100) power forward
	wait1Msec(msec);					      // Robot runs previous code for 750 milliseconds before moving on

}
void turn_left(int msec) {
  motor[rightMotor] = 100;		    // Motor on motorB is turned off
	motor[leftMotor]  = 0;			  // Motor on motorC is turned off
	wait1Msec(msec);					    // Robot stops for 1 second
}
*/

void detectwall () {
char str[80];
int threshold = 15;
 while (true)
  {
    //Make sure the value is not an error.
    {
      if (SensorValue[sonar] > threshold) {
      	sprintf(str, "sensor %d greater\n ", SensorValue[sonar]);

      	go_straight(FULL_SPEED, 1);
      	stop_movement(2);


        debug_print(str);
      } else if (SensorValue[sonar] == threshold) {
      	sprintf(str, "sensor %d equals \n", SensorValue[sonar]);
        debug_print(str);
        go_straight(FULL_SPEED, 1);
      	stop_movement(2);

      } else if (SensorValue[sonar] < threshold) {
          sprintf(str, "sensor %d less than \n", SensorValue[sonar]);
          debug_print(str);
        	turn_right(2);
          stop_movement(1);

      } else {
        debug_print("unknown");
      }
    }
  }
}


//+++++++++++++++++++++++++++++++++++++++++++++| MAIN |+++++++++++++++++++++++++++++++++++++++++++++++
task main()
{

	debug_print("My name is Johnny Five");

	wait1Msec(2000);						// Robot waits for 2000 milliseconds before executing program

	detectwall();

	// Turn Right at full power for 0.75 seconds

	turn_right(750);

	turn_left(750);

	go_straight(FULL_SPEED, 2000);

	stop_movement(1000);
}




// Program ends, and the robot stops
//++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++++
